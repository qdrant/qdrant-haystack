components:
  - name: Store
    type: QdrantDocumentStore
    params:
      embedding_dim: 768
      hnsw_config:
        ef_construct: 100
        m: 16
      index: Document
      recreate_index: false
      similarity: dot_product
      timeout: 60
      location: ":memory:"
  - name: Retriever
    type: EmbeddingRetriever
    params:
      document_store: Store
      top_k: 10
      embedding_model: "sentence-transformers/all-mpnet-base-v2"
      model_format: "sentence_transformers"
  - name: JsonConverter
    type: JsonConverter
  - name: FileTypeClassifier
    type: FileTypeClassifier
    params:
      supported_types: ["txt", "pdf", "md", "docx", "html", "json"]
pipelines:
  - name: query_pipeline
    nodes:
    - inputs:
      - Query
      name: Retriever
  - name: indexing_pipeline
    nodes:
    - name: FileTypeClassifier
      inputs: [File]
    - name: JsonConverter
      inputs: [FileTypeClassifier.output_6]
    - name: Store
      inputs: [JsonConverter]
version: 1.12.2